# Block direct push to main/master
sh .husky/scripts/no-direct-push-main-master.sh

# Run TypeScript unit tests
npm test

# Run Kotlin unit tests
if [ -d "example/android" ] && [ -f "example/android/gradlew" ]; then
  echo "Running Kotlin unit tests..."
  cd example/android && ./gradlew :amehmeto-tied-siren-blocking-overlay:testDebugUnitTest || exit 1
  cd ../..
else
  echo "Android project not found, skipping Kotlin tests"
fi
